{"version":3,"sources":["webpack:///src/app/Pages/auth-page/auth-page.page.html","webpack:///src/app/Pages/auth-page/auth-page-routing.module.ts","webpack:///src/app/Pages/auth-page/auth-page.module.ts","webpack:///src/app/Pages/auth-page/auth-page.page.scss","webpack:///src/app/Pages/auth-page/auth-page.page.ts","webpack:///src/app/Service/auth.service.ts"],"names":["routes","path","component","loadChildren","then","m","RegistrationPagePageModule","ForgetPasswordPageModule","AuthPagePageRoutingModule","imports","forChild","exports","AuthPagePageModule","declarations","AuthPagePage","router","authService","cookieService","toastController","nativeStorage","alertController","localStorage","getItem","navigate","create","message","duration","c","present","checkSession","form","console","log","loginForm","login","subscribe","res","result","code","cssClass","header","data","buttons","alert","setItem","uid","set","name","session_id","toast","reset","selector","template","AuthService","dataService","db","regForm","post","params","providedIn"],"mappings":"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","file":"Pages-auth-page-auth-page-module-es5.js","sourcesContent":["export default \"\\n<ion-content class=\\\"ion-padding\\\">\\n    <div class=\\\"container ion-text-center\\\">\\n        <img src=\\\"assets/Images/mix%20logo.png\\\" class=\\\"logo\\\" alt=\\\"Logo\\\">\\n        <p class=\\\"slogan-color\\\">Stay signed in with your account to make searching easier</p>\\n    </div>\\n    <form #loginF=\\\"ngForm\\\" (submit)=\\\"logIn(loginF)\\\">\\n        <ion-item>\\n            <ion-icon name=\\\"person\\\" slot=\\\"start\\\"></ion-icon>\\n            <ion-label position=\\\"floating\\\" class=\\\"f13\\\">Email Or Phone Number</ion-label>\\n            <ion-input [(ngModel)]=\\\"authService.loginForm.login\\\" name=\\\"login\\\" required type=\\\"text\\\"></ion-input>\\n        </ion-item>\\n        <ion-item>\\n            <ion-icon name=\\\"lock-closed\\\" slot=\\\"start\\\"></ion-icon>\\n            <ion-label position=\\\"floating\\\" class=\\\"f13\\\">Password</ion-label>\\n            <ion-input [(ngModel)]=\\\"authService.loginForm.password\\\" name=\\\"password\\\" required type=\\\"password\\\"></ion-input>\\n        </ion-item>\\n        <p class=\\\"ion-text-right f13\\\">\\n            <ion-router-link color=\\\"medium\\\" class=\\\"underline\\\" routerLink=\\\"/auth-page/forget-password\\\">Forget Password?\\n            </ion-router-link>\\n        </p>\\n        <ion-button expand=\\\"block\\\" [disabled]=\\\"!loginF.valid\\\" color=\\\"success\\\" type=\\\"submit\\\">Sign In</ion-button>\\n    </form>\\n    <p class=\\\"ion-text-center or-line f13\\\">Or</p>\\n    <ion-button expand=\\\"block\\\"  class=\\\"facebook_bg\\\">\\n        <ion-icon name=\\\"logo-facebook\\\"></ion-icon>\\n        Continue With Facebook\\n    </ion-button>\\n    <ion-button expand=\\\"block\\\" class=\\\"google_bg\\\">\\n        <ion-icon name=\\\"logo-google\\\"></ion-icon> \\n        Continue With Gmail\\n    </ion-button>\\n    <p class=\\\"ion-text-center f13\\\">Don't Have An Account?\\n        <ion-router-link color=\\\"success\\\" class=\\\"underline\\\" routerLink=\\\"/auth-page/registration-page\\\">Sign Up?\\n        </ion-router-link>\\n    </p>\\n    <p class=\\\"ion-text-center f13\\\">Continue As\\n        <ion-router-link color=\\\"success\\\" class=\\\"underline\\\" routerLink=\\\"/home-page-tabs/home-page\\\">Guest?\\n        </ion-router-link>\\n    </p>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AuthPagePage } from './auth-page.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AuthPagePage\n  },\n  {\n    path: 'registration-page',\n    loadChildren: () => import('./registration-page/registration-page.module').then( m => m.RegistrationPagePageModule)\n  },\n  {\n    path: 'forget-password',\n    loadChildren: () => import('./forget-password/forget-password.module').then( m => m.ForgetPasswordPageModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AuthPagePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AuthPagePageRoutingModule } from './auth-page-routing.module';\n\nimport { AuthPagePage } from './auth-page.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AuthPagePageRoutingModule\n  ],\n  declarations: [AuthPagePage]\n})\nexport class AuthPagePageModule {}\n","export default \".container .logo {\\n  width: 100px;\\n  margin-top: 20%;\\n}\\n.container .slogan-color {\\n  color: #8a8a8a;\\n  font-size: 13px;\\n  padding: 0 10%;\\n  line-height: 17px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvUGFnZXMvYXV0aC1wYWdlL2F1dGgtcGFnZS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0U7RUFDRSxZQUFBO0VBQ0EsZUFBQTtBQUFKO0FBRUU7RUFDRSxjQUFBO0VBQ0EsZUFBQTtFQUNBLGNBQUE7RUFDQSxpQkFBQTtBQUFKIiwiZmlsZSI6InNyYy9hcHAvUGFnZXMvYXV0aC1wYWdlL2F1dGgtcGFnZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVyIHtcbiAgLmxvZ28ge1xuICAgIHdpZHRoOiAxMDBweDtcbiAgICBtYXJnaW4tdG9wOiAyMCU7XG4gIH1cbiAgLnNsb2dhbi1jb2xvcntcbiAgICBjb2xvcjogIzhhOGE4YTtcbiAgICBmb250LXNpemU6IDEzcHg7XG4gICAgcGFkZGluZzogMCAxMCU7XG4gICAgbGluZS1oZWlnaHQ6IDE3cHg7XG4gIH1cbn1cbi8vIC5vci1saW5lOmJlZm9yZSB7XG4vLyAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZDJkMmQyO1xuLy8gICBkaXNwbGF5OiBibG9jaztcbi8vICAgaGVpZ2h0OiAxcHg7XG4vLyAgIGNvbnRlbnQ6IFwiIFwiO1xuLy8gICB3aWR0aDogNDAlO1xuLy8gICBwb3NpdGlvbjogcmVsYXRpdmU7XG4vLyAgIGxlZnQ6IDA7XG4vLyAgIHRvcDogMS4yZW07XG4vLyB9XG5cbi8vIC5vci1saW5lOmFmdGVyIHtcbi8vICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNkMmQyZDI7XG4vLyAgIGRpc3BsYXk6IGJsb2NrO1xuLy8gICBoZWlnaHQ6IDFweDtcbi8vICAgY29udGVudDogXCIgXCI7XG4vLyAgIHdpZHRoOiA0MCU7XG4vLyAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbi8vICAgcmlnaHQ6IDA7XG4vLyB9Il19 */\";","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthService } from '../../Service/auth.service';\nimport { NgForm } from '@angular/forms';\nimport { AlertController, ToastController } from '@ionic/angular';\nimport { CookieService } from 'ngx-cookie-service';\nimport { NativeStorage } from '@ionic-native/native-storage/ngx';\n\n@Component({\n    selector: 'app-auth-page',\n    templateUrl: './auth-page.page.html',\n    styleUrls: ['./auth-page.page.scss'],\n})\nexport class AuthPagePage implements OnInit {\n\n    constructor(\n        private router: Router,\n        public authService: AuthService,\n        private cookieService: CookieService,\n        public toastController: ToastController,\n        private nativeStorage: NativeStorage,\n        public alertController: AlertController\n    ) {\n    }\n    checkSession(){\n        if (localStorage.getItem('uid')) {\n            this.router.navigate(['home-page-tabs', 'home-page']);\n            this.toastController.create({\n                message: `You Are Logged In`,\n                duration: 2000\n            }).then(c => c.present());\n        }\n    }\n    ngOnInit() {\n        this.checkSession();\n    }\n    ionViewWillEnter(){\n        this.checkSession();\n        // this.platform.registerBackButtonAction( () => {\n        //     console.log(\"back button pressed!\");\n        // });\n    }\n\n    logIn(form: NgForm) {\n        console.log(this.authService.loginForm);\n        this.authService.login().subscribe(async (res: { result }) => {\n            console.log(res);\n            if (res.result.code === 404) {\n                const alert = await this.alertController.create({\n                    cssClass: 'my-custom-class',\n                    header: 'Sorry!!',\n                    message: res.result.data,\n                    buttons: ['OK']\n                });\n                await alert.present();\n            } else {\n                localStorage.setItem('uid', res.result.uid);\n                this.cookieService.set('uid', res.result.uid, null, '/');\n                localStorage.setItem('user_uid', res.result.uid);\n                localStorage.setItem('name', res.result.name);\n                localStorage.setItem('session_id', res.result.session_id);\n                \n                await this.router.navigate(['home-page-tabs', 'home-page']);\n                const toast = await this.toastController.create({\n                    message: `Welcome ${res.result.name}`,\n                    duration: 2000\n                });\n                await toast.present();\n                form.reset();\n            }\n        });\n    }\n}\n","import {Injectable} from '@angular/core';\nimport {DataService} from './data.service';\nimport {IAuthLogin} from '../Models/auth';\nimport {IRegistration} from '../Models/registration';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class AuthService {\n    loginForm = {db: 'Saif_App'} as IAuthLogin;\n    regForm = {} as IRegistration;\n\n    constructor(private dataService: DataService) {\n    }\n\n    login() {\n        return this.dataService.post('auth/', {params: this.loginForm});\n    }\n\n    register() {\n        return this.dataService.post('api/create_portal_patient', {params: this.regForm});\n    }\n}\n"]}